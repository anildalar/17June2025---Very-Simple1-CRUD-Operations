<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Document</title>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-4Q6Gf2aSP4eDXB8Miphtr37CMZZQ5oXLH2yaXMJ2w8e2ZtHTl7GptT4jmndRuHDT" crossorigin="anonymous">
    </head>
    <body>
        <div class="container-fluid">
            <form class="w-50 offset-3 mt-5">
                <input type="text" class="form-control a_name" placeholder="Enter your Teacher Name" />
                <input type="button" value="Save" class="btn btn-primary w-100 mt-3"  onclick="saveTeacherName(this)" />
            </form>
        </div>
    
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/js/bootstrap.bundle.min.js" integrity="sha384-j1CDi7MgGQ12Z7Qab0qlWQ/Qqz24Gc6BM0thvEMVjHnfYGF0rmFCozFSxQBxwHKO" crossorigin="anonymous"></script>
        <script>
            //1. Function ai s

            // let ceo1 = new ClassName();
            let xhro = new XMLHttpRequest();

            // When a variable defined outside the function defination then it called global variable

            //2. function 
            function saveTeacherName(e){ // fa is formal argument name can be anything
                console.log(e);
                console.log(document.querySelector('.a_name'));
                console.log(document.querySelector('.a_name').value);
                let tn = document.querySelector('.a_name').value;

                //API Call 

                //object.member
                //1. object.property
                //2. object.method();
                xhro.open('POST','http://localhost:1337/api/teachers');
                xhro.setRequestHeader('Accept','application/json');
                xhro.setRequestHeader('Content-Type','application/json');
                xhro.setRequestHeader('Authorization', 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6NywiaWF0IjoxNzUwMjE4NTUyLCJleHAiOjE3NTI4MTA1NTJ9.ms8TFab-3Y9dRSAO_x3XasDVH_DcUqSn75H4U7QRe1w');

                let payload = {
                                    "data": {
                                        "fname": tn
                                    }
                                };

                payload = JSON.stringify(payload);

                // JS Object -> JSON.stringify() -> JSON String
                xhro.send(payload);

                





            }   


        </script>
    </body>
</html>